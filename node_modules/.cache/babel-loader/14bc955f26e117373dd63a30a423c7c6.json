{"ast":null,"code":"import _defineProperty from \"D:\\\\SocialNetWork\\\\Social-Network\\\\SocialNetwork\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"D:\\\\SocialNetWork\\\\Social-Network\\\\SocialNetwork\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"D:\\\\SocialNetWork\\\\Social-Network\\\\SocialNetwork\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\SocialNetWork\\\\Social-Network\\\\SocialNetwork\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\SocialNetWork\\\\Social-Network\\\\SocialNetwork\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\SocialNetWork\\\\Social-Network\\\\SocialNetwork\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\SocialNetWork\\\\Social-Network\\\\SocialNetwork\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\SocialNetWork\\\\Social-Network\\\\SocialNetwork\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\SocialNetWork\\\\Social-Network\\\\SocialNetwork\\\\Client\\\\src\\\\components\\\\auth\\\\LoginPage.js\";\nimport React, { Component } from 'react';\nimport '../../styles/FormPages.css';\nimport { toast } from 'react-toastify';\nimport { ToastComponent } from '../common';\nimport { connect } from 'react-redux';\nimport { loginAction, redirectAction } from '../../store/actions/authActions';\n\nvar LoginPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LoginPage, _Component);\n\n  function LoginPage(props) {\n    var _this;\n\n    _classCallCheck(this, LoginPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginPage).call(this, props));\n\n    _this.handleBlur = function (field) {\n      return function (event) {\n        _this.setState({\n          touched: _objectSpread({}, _this.state.touched, _defineProperty({}, field, true))\n        });\n      };\n    };\n\n    _this.validate = function (username, password) {\n      return {\n        username: username.length === 0,\n        password: password.length === 0\n      };\n    };\n\n    _this.state = {\n      username: '',\n      password: '',\n      touched: {\n        username: false,\n        password: false\n      }\n    };\n    _this.onChangeHandler = _this.onChangeHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSubmitHandler = _this.onSubmitHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(LoginPage, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.loginError.hasError && prevProps.loginError !== this.props.loginError) {\n        toast.error(React.createElement(ToastComponent.errorToast, {\n          text: \"\".concat(this.props.loginError.message),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 27\n          },\n          __self: this\n        }), {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      } else if (this.props.loginSuccess) {\n        this.props.redirect();\n        toast.success(React.createElement(ToastComponent.successToast, {\n          text: ' You have successfully logged in!',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }), {\n          position: toast.POSITION.TOP_RIGHT\n        });\n        this.props.history.push('/');\n      }\n    }\n  }, {\n    key: \"onChangeHandler\",\n    value: function onChangeHandler(event) {\n      this.setState(_defineProperty({}, event.target.name, event.target.value));\n    }\n  }, {\n    key: \"onSubmitHandler\",\n    value: function onSubmitHandler(event) {\n      event.preventDefault();\n\n      if (!this.canBeSubmitted()) {\n        return;\n      }\n\n      var _this$state = this.state,\n          username = _this$state.username,\n          password = _this$state.password;\n      this.props.login(username, password);\n    }\n  }, {\n    key: \"canBeSubmitted\",\n    value: function canBeSubmitted() {\n      var _this$state2 = this.state,\n          username = _this$state2.username,\n          password = _this$state2.password;\n      var errors = this.validate(username, password);\n      var isDisabled = Object.keys(errors).some(function (x) {\n        return errors[x];\n      });\n      return !isDisabled;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state3 = this.state,\n          username = _this$state3.username,\n          password = _this$state3.password;\n      var errors = this.validate(username, password);\n      var isEnabled = !Object.keys(errors).some(function (x) {\n        return errors[x];\n      });\n\n      var shouldMarkError = function shouldMarkError(field) {\n        var hasError = errors[field];\n        var shouldShow = _this2.state.touched[field];\n        return hasError ? shouldShow : false;\n      };\n\n      return React.createElement(\"section\", {\n        className: \"pt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container login-form-content-section pb-4 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"text-center font-weight-bold mt-4\",\n        style: {\n          'margin': '1rem auto',\n          'paddingTop': '2rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"div\", {\n        className: \"hr-styles\",\n        style: {\n          'width': '70%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        className: \"Login-form-container\",\n        onSubmit: this.onSubmitHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Username\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control \" + (shouldMarkError('username') ? \"error\" : \"\"),\n        id: \"username\",\n        name: \"username\",\n        value: this.state.username,\n        onChange: this.onChangeHandler,\n        onBlur: this.handleBlur('username'),\n        \"aria-describedby\": \"usernameHelp\",\n        placeholder: \"Enter username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), shouldMarkError('username') && React.createElement(\"small\", {\n        id: \"usernameHelp\",\n        className: \"form-text alert alert-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Username is required!\")), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        type: \"password\",\n        className: \"form-control \" + (shouldMarkError('password') ? \"error\" : \"\"),\n        id: \"password\",\n        name: \"password\",\n        value: this.state.password,\n        onChange: this.onChangeHandler,\n        onBlur: this.handleBlur('password'),\n        \"aria-describedby\": \"passwordHelp\",\n        placeholder: \"Enter password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), shouldMarkError('password') && React.createElement(\"small\", {\n        id: \"passwordHelp\",\n        className: \"form-text alert alert-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Password is required!\")), React.createElement(\"div\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        disabled: !isEnabled,\n        type: \"submit\",\n        className: \"btn App-button-primary btn-lg m-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Login\")))));\n    }\n  }]);\n\n  return LoginPage;\n}(Component);\n\n;\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    loginSuccess: state.login.success,\n    loginError: state.loginError\n  };\n}\n\nfunction mapDispatchToProps(dispatch, ownProps) {\n  return {\n    login: function login(username, password) {\n      return dispatch(loginAction(username, password));\n    },\n    redirect: function redirect() {\n      return dispatch(redirectAction());\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginPage);","map":{"version":3,"sources":["D:\\SocialNetWork\\Social-Network\\SocialNetwork\\Client\\src\\components\\auth\\LoginPage.js"],"names":["React","Component","toast","ToastComponent","connect","loginAction","redirectAction","LoginPage","props","handleBlur","field","event","setState","touched","state","validate","username","password","length","onChangeHandler","bind","onSubmitHandler","prevProps","prevState","loginError","hasError","error","message","position","POSITION","TOP_RIGHT","loginSuccess","redirect","success","history","push","target","name","value","preventDefault","canBeSubmitted","login","errors","isDisabled","Object","keys","some","x","isEnabled","shouldMarkError","shouldShow","mapStateToProps","ownProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport '../../styles/FormPages.css';\r\nimport { toast } from 'react-toastify';\r\nimport { ToastComponent } from '../common';\r\nimport { connect } from 'react-redux';\r\nimport { loginAction, redirectAction } from '../../store/actions/authActions';\r\n\r\nclass LoginPage extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            touched: {\r\n                username: false,\r\n                password: false\r\n            }\r\n        };\r\n\r\n        this.onChangeHandler = this.onChangeHandler.bind(this);\r\n        this.onSubmitHandler = this.onSubmitHandler.bind(this);\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (this.props.loginError.hasError && prevProps.loginError !== this.props.loginError) {\r\n            toast.error(<ToastComponent.errorToast text={`${this.props.loginError.message}`} />, {\r\n                position: toast.POSITION.TOP_RIGHT\r\n            });\r\n        } else if (this.props.loginSuccess) {\r\n            this.props.redirect();\r\n\r\n            toast.success(<ToastComponent.successToast text={' You have successfully logged in!'} />, {\r\n                position: toast.POSITION.TOP_RIGHT\r\n            });\r\n\r\n            this.props.history.push('/');\r\n        }\r\n    }\r\n\r\n    onChangeHandler(event) {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    }\r\n\r\n    onSubmitHandler(event) {\r\n        event.preventDefault();\r\n\r\n        if (!this.canBeSubmitted()) {\r\n            return;\r\n        }\r\n\r\n        const { username, password } = this.state;\r\n        this.props.login(username, password);\r\n    }\r\n\r\n    canBeSubmitted() {\r\n        const { username, password } = this.state;\r\n        const errors = this.validate(username, password);\r\n        const isDisabled = Object.keys(errors).some(x => errors[x])\r\n        return !isDisabled;\r\n    }\r\n\r\n    handleBlur = (field) => (event) => {\r\n        this.setState({\r\n            touched: { ...this.state.touched, [field]: true }\r\n        });\r\n    }\r\n\r\n    validate = (username, password) => {\r\n        return {\r\n            username: username.length === 0,\r\n            password: password.length === 0\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { username, password } = this.state;\r\n        const errors = this.validate(username, password);\r\n        const isEnabled = !Object.keys(errors).some(x => errors[x])\r\n\r\n        const shouldMarkError = (field) => {\r\n            const hasError = errors[field];\r\n            const shouldShow = this.state.touched[field];\r\n\r\n            return hasError ? shouldShow : false;\r\n        }\r\n\r\n        return (\r\n            <section className=\"pt-3\">\r\n                <div className=\"container login-form-content-section pb-4 \" >\r\n                    <h1 className=\"text-center font-weight-bold mt-4\" style={{ 'margin': '1rem auto', 'paddingTop': '2rem' }}>Login</h1>\r\n                    <div className=\"hr-styles\" style={{ 'width': '70%' }}></div>\r\n\r\n                    <form className=\"Login-form-container\" onSubmit={this.onSubmitHandler}>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"username\">Username</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className={\"form-control \" + (shouldMarkError('username') ? \"error\" : \"\")}\r\n                                id=\"username\"\r\n                                name=\"username\"\r\n                                value={this.state.username}\r\n                                onChange={this.onChangeHandler}\r\n                                onBlur={this.handleBlur('username')}\r\n                                aria-describedby=\"usernameHelp\"\r\n                                placeholder=\"Enter username\"\r\n                            />\r\n                            {shouldMarkError('username') && <small id=\"usernameHelp\" className=\"form-text alert alert-danger\">Username is required!</small>}\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"password\" >Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                className={\"form-control \" + (shouldMarkError('password') ? \"error\" : \"\")}\r\n                                id=\"password\"\r\n                                name=\"password\"\r\n                                value={this.state.password}\r\n                                onChange={this.onChangeHandler}\r\n                                onBlur={this.handleBlur('password')}\r\n                                aria-describedby=\"passwordHelp\"\r\n                                placeholder=\"Enter password\"\r\n                            />\r\n                            {shouldMarkError('password') && <small id=\"passwordHelp\" className=\"form-text alert alert-danger\">Password is required!</small>}\r\n                        </div>\r\n\r\n                        <div className=\"text-center\">\r\n                            <button disabled={!isEnabled} type=\"submit\" className=\"btn App-button-primary btn-lg m-3\">Login</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n};\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n    return {\r\n        loginSuccess: state.login.success,\r\n        loginError: state.loginError\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch, ownProps) {\r\n    return {\r\n        login: (username, password) => dispatch(loginAction(username, password)),\r\n        redirect: () => dispatch(redirectAction())\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginPage);\r\n"]},"metadata":{},"sourceType":"module"}